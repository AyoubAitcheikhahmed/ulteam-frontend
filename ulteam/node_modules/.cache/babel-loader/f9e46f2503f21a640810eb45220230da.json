{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AYOUB\\\\gitRepo\\\\frontendweb-pieter-2122-AyoubAitcheikhahmed\\\\ulteam\\\\src\\\\pages\\\\admin_panel\\\\adminSingleProductUpdate\\\\AdminSingleProductUpdate.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./adminSingleProduct.css\";\nimport Button from \"mui-button\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport { useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState, useEffect } from \"react\";\nimport { updateProducts } from \"../../../redux/apiRequests\";\nimport { Alert, AlertTitle } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AdminSingleProductUpdateUpdate() {\n  _s();\n\n  const [productInput, setProductInput] = useState({});\n  const [categories, setCategories] = useState([]);\n  const [platforms, setPlatforms] = useState([]);\n  const [warnings, setWarnings] = useState({});\n  const [notifications, setNotifications] = useState();\n  const dispatch = useDispatch();\n  const {\n    errorFlag\n  } = useSelector(state => state.product);\n\n  const handelChange = event => {\n    setWarnings(productInput);\n    setProductInput(prev => {\n      return { ...prev,\n        [event.target.name]: event.target.value\n      };\n    });\n  };\n\n  const handelPlatforms = event => {\n    setPlatforms(event.target.value.split(\",\"));\n  };\n\n  const handelCategories = event => {\n    setCategories(event.target.value.split(\",\"));\n  };\n\n  const handleCreation = event => {\n    event.preventDefault(); //add 2 arrays (categories[,,,] and platform[,,,,] to object )\n\n    const finalProduct = { ...productInput,\n      categories: categories,\n      platform: platforms\n    }; // addProducts(finalProduct,dispatch);\n\n    setNotifications(handelNotifications(finalProduct)); // console.log(\"before condition \",warnings);\n    // console.log(Object.keys(warnings).length);\n    // setWarnings(validateForm(finalProduct))\n    //   console.log(\"before condition \",warnings);\n    // if(Object.keys(warnings)){\n    //     console.log(\"after condition \",warnings);\n    //     setNotifications(handleWarnings(warnings));\n    // }else {\n    //     addProducts(finalProduct,dispatch);\n    //     setNotifications(handelNotifications(finalProduct));\n    // }\n  }; //validate form\n  // const validateForm =  (productInput) => {\n  //     const warningMsg = {};\n  //     if(!productInput.title){\n  //         warningMsg.title = \"Title is required\";\n  //     }\n  //     if(!productInput.image){\n  //         warningMsg.image = \"Link is required\";\n  //     }\n  //     if (!productInput.price) {\n  //         warningMsg.price = 'Price required';\n  //     } \n  //     if(!productInput.desc){\n  //         warningMsg.password = \"Description is required\";\n  //     }\n  //     if(!productInput.platform){\n  //         warningMsg.platform = \"Platform is required\";\n  //     }\n  //     if(!productInput.categories){\n  //         warningMsg.categories = \"Category is required\";\n  //     }\n  //     return warningMsg;\n  // };\n  // const handleWarnings = (warnings) =>{\n  //         return Object.values(warnings).map((item) => <Alert style={{margin: \"10px 12px 0px 0px\"}} variant=\"outlined\" severity=\"warning\">{item}</Alert>);\n  // }\n\n\n  const handelNotifications = product => {\n    if (!errorFlag) {\n      return /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [product.title, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), \" lays successfully in our database.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this);\n    } else if (errorFlag) {\n      return /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this), \" occured during your request.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  console.log(productInput);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"newProduct\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"productTitle\",\n        children: \"Add new Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"apiInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"apiInfoMsgBox\",\n          children: [Object.keys(warnings) > 0 && Object.values(warnings).map(item => {\n            /*#__PURE__*/\n            _jsxDEV(Alert, {\n              variant: \"outlined\",\n              severity: \"warning\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this);\n          }), notifications]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"apiInfoMsgBox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        className: \"sendButton\",\n        endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 85\n        }, this),\n        size: \"large\",\n        onClick: handleCreation,\n        children: \" Creat Game \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productUpdateInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"productTitle\",\n        children: \"Information Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        className: \"productForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Game Title \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"title\",\n            type: \"text\",\n            className: \"productInput\",\n            onChange: handelChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Link to Image \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"image\",\n            type: \"text\",\n            className: \"productInput\",\n            onChange: handelChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"price\",\n            type: \"number\",\n            className: \"productInput\",\n            onChange: handelChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"desc\",\n            type: \"text\",\n            className: \"productInput\",\n            onChange: handelChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Platform \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"platform\",\n            type: \"text\",\n            placeholder: \"pc,xbox,nintendo,ps4\",\n            className: \"productInput\",\n            onChange: handelPlatforms\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"categories\",\n            type: \"text\",\n            placeholder: \"fps,action,cars,sport\",\n            className: \"productInput\",\n            onChange: handelCategories\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdminSingleProductUpdateUpdate, \"qtmhsBqCEbPrEatLIjRLt8Nio7Q=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = AdminSingleProductUpdateUpdate;\nexport default AdminSingleProductUpdateUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminSingleProductUpdateUpdate\");","map":{"version":3,"sources":["C:/Users/AYOUB/gitRepo/frontendweb-pieter-2122-AyoubAitcheikhahmed/ulteam/src/pages/admin_panel/adminSingleProductUpdate/AdminSingleProductUpdate.jsx"],"names":["Button","SendIcon","useLocation","useDispatch","useSelector","useState","useEffect","updateProducts","Alert","AlertTitle","AdminSingleProductUpdateUpdate","productInput","setProductInput","categories","setCategories","platforms","setPlatforms","warnings","setWarnings","notifications","setNotifications","dispatch","errorFlag","state","product","handelChange","event","prev","target","name","value","handelPlatforms","split","handelCategories","handleCreation","preventDefault","finalProduct","platform","handelNotifications","title","console","log","Object","keys","values","map","item"],"mappings":"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","sourcesContent":["import \"./adminSingleProduct.css\";\r\nimport Button from \"mui-button\";\r\nimport SendIcon from \"@material-ui/icons/Send\"\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useDispatch,useSelector } from 'react-redux';\r\nimport { useState, useEffect } from \"react\";\r\nimport { updateProducts } from \"../../../redux/apiRequests\";\r\nimport { Alert,AlertTitle } from '@mui/material';\r\n\r\n\r\nfunction AdminSingleProductUpdateUpdate() {\r\n    const [productInput, setProductInput] = useState({});\r\n    const [categories, setCategories] = useState([]);\r\n    const [platforms , setPlatforms] = useState([]);\r\n\r\n    const [warnings, setWarnings] = useState({});\r\n    const [notifications, setNotifications] = useState();\r\n    const dispatch = useDispatch();\r\n    const { errorFlag } = useSelector((state) => state.product)\r\n\r\n    const handelChange = (event) => {\r\n        setWarnings(productInput);\r\n        setProductInput(prev => {\r\n            return {...prev, [event.target.name] : event.target.value}\r\n        });\r\n        \r\n        \r\n    }\r\n\r\n    const handelPlatforms = (event) => {\r\n        setPlatforms(event.target.value.split(\",\"));\r\n \r\n    }\r\n    const handelCategories = (event) => {\r\n        setCategories(event.target.value.split(\",\"))\r\n       \r\n    }\r\n   \r\n    const handleCreation = (event) => {\r\n\r\n        event.preventDefault();\r\n        //add 2 arrays (categories[,,,] and platform[,,,,] to object )\r\n        const finalProduct = {...productInput,categories : categories,platform : platforms};\r\n        \r\n        // addProducts(finalProduct,dispatch);\r\n        setNotifications(handelNotifications(finalProduct));\r\n        // console.log(\"before condition \",warnings);\r\n        // console.log(Object.keys(warnings).length);\r\n        // setWarnings(validateForm(finalProduct))\r\n\r\n        //   console.log(\"before condition \",warnings);\r\n        // if(Object.keys(warnings)){\r\n        //     console.log(\"after condition \",warnings);\r\n        //     setNotifications(handleWarnings(warnings));\r\n        // }else {\r\n        //     addProducts(finalProduct,dispatch);\r\n        //     setNotifications(handelNotifications(finalProduct));\r\n        // }\r\n     \r\n        \r\n        \r\n    }\r\n    \r\n    //validate form\r\n    // const validateForm =  (productInput) => {\r\n    //     const warningMsg = {};\r\n        \r\n    //     if(!productInput.title){\r\n    //         warningMsg.title = \"Title is required\";\r\n    //     }\r\n    //     if(!productInput.image){\r\n    //         warningMsg.image = \"Link is required\";\r\n    //     }\r\n    //     if (!productInput.price) {\r\n    //         warningMsg.price = 'Price required';\r\n    //     } \r\n    //     if(!productInput.desc){\r\n    //         warningMsg.password = \"Description is required\";\r\n    //     }\r\n    //     if(!productInput.platform){\r\n    //         warningMsg.platform = \"Platform is required\";\r\n    //     }\r\n    //     if(!productInput.categories){\r\n    //         warningMsg.categories = \"Category is required\";\r\n    //     }\r\n\r\n    //     return warningMsg;\r\n        \r\n    // };\r\n\r\n    // const handleWarnings = (warnings) =>{\r\n    //         return Object.values(warnings).map((item) => <Alert style={{margin: \"10px 12px 0px 0px\"}} variant=\"outlined\" severity=\"warning\">{item}</Alert>);\r\n    // }\r\n\r\n    const handelNotifications = (product) => {\r\n        \r\n        if(!errorFlag){\r\n    \r\n            return(\r\n            <Alert severity=\"success\">\r\n            <AlertTitle>Success</AlertTitle>\r\n            <strong>{product.title} </strong> lays successfully in our database.\r\n            </Alert>\r\n        );\r\n        }else if (errorFlag){\r\n    \r\n            return(\r\n                <Alert severity=\"error\" >\r\n                <AlertTitle>Error</AlertTitle>\r\n                <strong>Error </strong> occured during your request.\r\n                </Alert>\r\n            );\r\n        }\r\n        \r\n    }\r\n    console.log(productInput)\r\n    return (\r\n        <div className=\"newProduct\">\r\n              <div className=\"header\">\r\n                        <h1 className=\"productTitle\">Add new Game</h1>\r\n                        <div className=\"apiInfo\">\r\n                            <div className=\"apiInfoMsgBox\">\r\n                            {Object.keys(warnings)  > 0 &&\r\n                            Object.values(warnings).map((item) => {\r\n                            <Alert variant=\"outlined\" severity=\"warning\">\r\n                            {item}\r\n                            </Alert>})\r\n                            }\r\n\r\n                            \r\n                                {notifications}\r\n\r\n                            </div>\r\n                            <div className=\"apiInfoMsgBox\">\r\n                         \r\n                            </div>\r\n                        </div>\r\n                        <Button variant=\"contained\" className=\"sendButton\" endIcon={<SendIcon />} size=\"large\" onClick={handleCreation}> Creat Game </Button>\r\n                    </div>\r\n            <div className=\"productUpdateInfo\">\r\n                <h3 className=\"productTitle\">Information Form</h3>\r\n                <form action=\"\" className=\"productForm\">\r\n                    <div className=\"inputItem\">\r\n                        <label >Game Title </label>\r\n                        <input name=\"title\" type=\"text\" className=\"productInput\" onChange={handelChange}/>\r\n                    </div>\r\n                    <div className=\"inputItem\">\r\n                        <label >Link to Image </label>\r\n                        <input name=\"image\" type=\"text\" className=\"productInput\" onChange={handelChange}  />\r\n                    </div>\r\n                    <div className=\"inputItem\">\r\n                        <label >Price</label>\r\n                        <input name=\"price\" type=\"number\" className=\"productInput\" onChange={handelChange} />\r\n                    </div>\r\n                    <div className=\"inputItem\">\r\n                        <label >Description </label>\r\n                        <input name=\"desc\" type=\"text\" className=\"productInput\" onChange={handelChange} />\r\n                        </div>\r\n\r\n                    <div className=\"inputItem\"> \r\n                        <label >Platform </label>\r\n                        <input name=\"platform\" type=\"text\" placeholder=\"pc,xbox,nintendo,ps4\" className=\"productInput\" onChange={handelPlatforms} />\r\n                    </div>\r\n                    <div className=\"inputItem\">\r\n                        <label >Category</label>\r\n                        <input name=\"categories\" type=\"text\" placeholder=\"fps,action,cars,sport\" className=\"productInput\" onChange={handelCategories} />\r\n                    </div>\r\n                  \r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdminSingleProductUpdateUpdate\r\n"]},"metadata":{},"sourceType":"module"}