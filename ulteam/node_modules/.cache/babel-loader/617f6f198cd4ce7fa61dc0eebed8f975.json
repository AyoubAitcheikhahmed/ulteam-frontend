{"ast":null,"code":"var _JSON$parse;\n\nimport { login_begin, login_true, login_false } from \"./redux/user_redux\";\nimport axios from \"axios\"; //import { axiosReq } from './axiosReq'\n\nconst BASE_URL = \"http://localhost:5000/api/\";\nconst user = (_JSON$parse = JSON.parse(localStorage.getItem(\"persist:root\"))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.user;\nconst currentUser = user && JSON.parse(user).user;\nconst TOKEN = currentUser === null || currentUser === void 0 ? void 0 : currentUser.token; // let token_value = \"\";\n// if(JSON.parse(localStorage.getItem(\"persist:root\")) == null || JSON.parse(localStorage.getItem(\"persist:root\")).user.user == null){\n//      token_value = \"Not_defined\";\n// }else{\n//     token_value = JSON.parse(JSON.parse(localStorage.getItem(\"persist:root\")).user).user.token;\n// }\n// const TOKEN = token_value;\n// const TOKEN = () => {\n//     if(JSON.parse(localStorage.getItem(\"persist:root\")) == null || JSON.parse(localStorage.getItem(\"persist:root\")).user.user == null){\n//         return \"Not_defined\";\n//    }else{\n//         return JSON.parse(JSON.parse(localStorage.getItem(\"persist:root\")).user).user.token;\n//    }\n// }\n\nconsole.log(\"THE VALUE OF TOKEN IS : \", TOKEN);\nconsole.log(\"THE VALUE OF PARS token IS : \", JSON.parse(localStorage.getItem(\"persist:root\")).user.user);\nexport const loginProcess = async (dispatch, user) => {\n  try {\n    const respone = await axios.post(BASE_URL + \"authentification/signin/\", user);\n    dispatch(login_true(respone.data));\n  } catch (err) {\n    dispatch(login_false());\n  }\n};\nexport const adminRequest = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    token: `Bearer ${TOKEN}`\n  }\n});","map":{"version":3,"sources":["C:/Users/AYOUB/gitRepo/frontendweb-pieter-2122-AyoubAitcheikhahmed/ulteam/src/server_methodes.js"],"names":["login_begin","login_true","login_false","axios","BASE_URL","user","JSON","parse","localStorage","getItem","currentUser","TOKEN","token","console","log","loginProcess","dispatch","respone","post","data","err","adminRequest","create","baseURL","headers"],"mappings":";;AAAA,SAASA,WAAT,EAAqBC,UAArB,EAAgCC,WAAhC,QAAmD,oBAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,MAAOC,QAAQ,GAAG,4BAAlB;AAGA,MAAMC,IAAI,kBAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CAAH,gDAAG,YAAkDJ,IAA/D;AACA,MAAMK,WAAW,GAAGL,IAAI,IAAIC,IAAI,CAACC,KAAL,CAAWF,IAAX,EAAiBA,IAA7C;AACA,MAAMM,KAAK,GAAGD,WAAH,aAAGA,WAAH,uBAAGA,WAAW,CAAEE,KAA3B,C,CACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEAC,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAuCH,KAAvC;AACAE,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA4CR,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,EAAiDJ,IAAjD,CAAsDA,IAAlG;AACA,OAAO,MAAMU,YAAY,GAAG,OAAOC,QAAP,EAAgBX,IAAhB,KAAyB;AAGjD,MAAG;AACC,UAAMY,OAAO,GAAG,MAAMd,KAAK,CAACe,IAAN,CAAWd,QAAQ,GAAC,0BAApB,EAA+CC,IAA/C,CAAtB;AACAW,IAAAA,QAAQ,CAACf,UAAU,CAACgB,OAAO,CAACE,IAAT,CAAX,CAAR;AAEH,GAJD,CAIC,OAAMC,GAAN,EAAU;AACPJ,IAAAA,QAAQ,CAACd,WAAW,EAAZ,CAAR;AACH;AACJ,CAVM;AAYP,OAAO,MAAMmB,YAAY,GAAGlB,KAAK,CAACmB,MAAN,CAAa;AACrCC,EAAAA,OAAO,EAAEnB,QAD4B;AAErCoB,EAAAA,OAAO,EAAE;AAAEZ,IAAAA,KAAK,EAAG,UAASD,KAAM;AAAzB;AAF4B,CAAb,CAArB","sourcesContent":["import { login_begin,login_true,login_false } from \"./redux/user_redux\"\r\nimport axios from \"axios\";\r\n//import { axiosReq } from './axiosReq'\r\n\r\nconst  BASE_URL = \"http://localhost:5000/api/\";\r\n\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"persist:root\"))?.user;\r\nconst currentUser = user && JSON.parse(user).user;\r\nconst TOKEN = currentUser?.token;\r\n// let token_value = \"\";\r\n\r\n// if(JSON.parse(localStorage.getItem(\"persist:root\")) == null || JSON.parse(localStorage.getItem(\"persist:root\")).user.user == null){\r\n//      token_value = \"Not_defined\";\r\n// }else{\r\n//     token_value = JSON.parse(JSON.parse(localStorage.getItem(\"persist:root\")).user).user.token;\r\n// }\r\n\r\n// const TOKEN = token_value;\r\n\r\n\r\n// const TOKEN = () => {\r\n//     if(JSON.parse(localStorage.getItem(\"persist:root\")) == null || JSON.parse(localStorage.getItem(\"persist:root\")).user.user == null){\r\n//         return \"Not_defined\";\r\n//    }else{\r\n//         return JSON.parse(JSON.parse(localStorage.getItem(\"persist:root\")).user).user.token;\r\n//    }\r\n\r\n// }\r\n\r\nconsole.log(\"THE VALUE OF TOKEN IS : \",TOKEN)\r\nconsole.log(\"THE VALUE OF PARS token IS : \",JSON.parse(localStorage.getItem(\"persist:root\")).user.user)\r\nexport const loginProcess = async (dispatch,user) => {\r\n    \r\n    \r\n    try{\r\n        const respone = await axios.post(BASE_URL+\"authentification/signin/\",user);\r\n        dispatch(login_true(respone.data));\r\n\r\n    }catch(err){\r\n        dispatch(login_false());\r\n    }\r\n};\r\n\r\nexport const adminRequest = axios.create({\r\n    baseURL: BASE_URL,\r\n    headers: { token: `Bearer ${TOKEN}` },\r\n  });"]},"metadata":{},"sourceType":"module"}